name: podman # you probably want to 'snapcraft register <name>'
version: git
summary: Manage pods, containers and container images
description: |
  `podman` is a tool for managing Pods, Containers, and Container Images
  in multiple formats including Docker/OSI images. It exposes the same
  command line interface as Docker, but runs containers unprivileged by
  default.

confinement: devmode # use 'strict' once you have the right plugs and slots

base: core18

parts:
  podman:
    plugin: make
    source: ../..
    build-snaps:
     - go/1.13/stable
    build-packages:
     # https://podman.io/getting-started/installation#building-from-scratch
     - btrfs-tools
     - git
     - go-md2man
     - iptables
     - libassuan-dev
     - libc6-dev
     - libdevmapper-dev
     - libglib2.0-dev
     - libgpgme-dev
     - libgpg-error-dev
     - libprotobuf-dev
     - libprotobuf-c0-dev
     - libseccomp-dev
     - libselinux1-dev
     - pkg-config
       # stage-packages:
       #- libarchive13
       #     - libassuan0
       #     - libgpgme11
       #     - libicu60
       #     - libsoup2.4-1
       #     - libxml2
